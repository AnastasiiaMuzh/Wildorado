import{a as Le,c as ke,b as Pe,t as Ie,l as Me,u as D,d as C,e as b,r as l,j as e,N as W,A as Y,m as q,L as z,f as O,g as _,S as Oe,R as Re,F as Q,h as $,i as X,k as Z,n as Ae,o as L,p as R,q as Ue,s as Fe,v as _e,C as $e,O as Ve,w as Ge,x as Ye,y as qe,P as Je,z as Be}from"./vendor-c808208a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();async function N(s,t={}){t.method=t.method||"GET",t.headers=t.headers||{},t.method.toUpperCase()!=="GET"&&(t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.headers["XSRF-Token"]=Le.get("XSRF-TOKEN"));const a=await window.fetch(s,t);if(a.status>=400&&a.status!==404)throw a;return a}const ee="session/setUser",se="session/removeUser",V=s=>({type:ee,payload:s}),He=()=>({type:se}),Ke=()=>async s=>{const t=await fetch("/api/auth/");if(t.ok){const a=await t.json();if(a.errors)return;s(V(a))}},U=s=>async t=>{const a=await N("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok){const r=await a.json();t(V(r))}else return a.status<500?await a.json():{server:"Something went wrong. Please try again"}},te=s=>async t=>{const a=await N("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(a.ok){const r=await a.json();t(V(r))}else return a.status<500?await a.json():{server:"Something went wrong. Please try again"}},We=()=>async s=>{await N("/api/auth/logout"),s(He())},ze={user:null};function Qe(s=ze,t){switch(t.type){case ee:return{...s,user:t.payload};case se:return{...s,user:null};default:return s}}const ae="categories/GET_CATEGORIES",ne="categories/GET_CATEGORY_DETAILS",Xe=s=>({type:ae,payload:s}),Ze=s=>({type:ne,payload:s}),es=()=>async s=>{const t=await N("/api/categories/");if(t.ok){const a=await t.json();console.log("Fetched categories:",a.categories),s(Xe(a.categories))}else console.error("Error loading categories")},re=s=>async t=>{const a=await N(`/api/categories/${s}`);if(a.ok){const r=await a.json();t(Ze(r))}else console.error("Error loading categories")},ss={allCategories:[],currentCategory:null};function ts(s=ss,t){switch(t.type){case ae:return{...s,allCategories:t.payload};case ne:return{...s,currentCategory:t.payload};default:return s}}const oe="locations/GET_ALL_LOCATIONS",ie="locations/GET_DETAILS_LOCATION",ce="locations/CREATE_LOCATION",le="locations/UPDATE_LOCATION",de="locations/DELETE_LOCATION",as=s=>({type:oe,payload:s}),ns=s=>({type:ie,payload:s}),rs=s=>({type:ce,payload:s}),os=s=>({type:le,payload:s}),is=s=>({type:de,payload:s}),cs=(s="")=>async t=>{const a=await N(`/api/locations${s}`);if(!a.ok)return console.error("Error fetching locations"),null;const r=await a.json();return t(as(r.Locations||[])),r},ls=s=>async t=>{const a=await N(`/api/locations/${s}`);if(!a.ok)return console.error("Error fetching location details"),null;const r=await a.json();return t(ns(r)),r},ds=s=>async t=>{try{const a=await N("/api/locations/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await a.json();if(!a.ok){const n=new Error(r.message||"Failed to create location");throw n.res={data:r},n}return t(rs(r)),r}catch(a){throw a}},us=(s,t)=>async a=>{const r=await N(`/api/locations/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)return console.error("Error updating location"),null;const n=await r.json();return a(os(n)),n},ms=s=>async t=>{if(!(await N(`/api/locations/${s}`,{method:"DELETE"})).ok)return console.error("Error deleting location"),null;t(is(s))},hs={allLocations:[],locationDetail:null},ps=(s=hs,t)=>{var a,r;switch(t.type){case oe:return{...s,allLocations:t.payload};case ie:return{...s,locationDetail:t.payload};case ce:return{...s,allLocations:[...s.allLocations,t.payload]};case le:return{...s,allLocations:s.allLocations.map(n=>n.id===t.payload.id?t.payload:n),locationDetail:((a=s.locationDetail)==null?void 0:a.id)===t.payload.id?t.payload:s.locationDetail};case de:return{...s,allLocations:s.allLocations.filter(n=>n.id!==t.payload),locationDetail:((r=s.locationDetail)==null?void 0:r.id)===t.payload?null:s.locationDetail};default:return s}},ue="events/GET_ALL_EVENTS",me="events/GET_EVENT_DETAIL",he="events/GET_CURRENT_USER_EVENTS",pe="events/CREATE_EVENT",ge="events/UPDATE_EVENT",xe="events/DELETE_EVENT",ve="events/JOIN_EVENT",je="events/LEAVE_EVENT",ye="events/CREATE_COMMENT",fe="events/DELETE_COMMENT",gs=s=>({type:ue,payload:s}),xs=s=>({type:me,payload:s}),vs=s=>({type:he,payload:s}),js=s=>({type:pe,payload:s}),ys=s=>({type:ge,payload:s}),fs=s=>({type:xe,payload:s}),Es=s=>({type:ve,payload:s}),ws=s=>({type:je,payload:s}),Ns=s=>({type:ye,payload:s}),Cs=s=>({type:fe,payload:s}),A=()=>async s=>{const t=await fetch("/api/events/");if(t.ok){const a=await t.json();return s(gs(a.events)),a.events}},F=s=>async t=>{const a=await fetch(`/api/events/${s}`);if(a.ok){const r=await a.json();return t(xs(r.event)),r.event}},Ee=()=>async s=>{const t=await N("/api/events/current");if(console.log("RES FROM MY EVENT",t),t.ok){const a=await t.json();return console.log("DATA FROM MY EVENT Before",a),s(vs(a.events||[])),console.log("DATA FROM MY EVENT FTER",a),a.events}},Ss=s=>async t=>{const a=await N("/api/events/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await a.json();if(!a.ok){const n=new Error(r.message||"Failed to create event");throw n.res={data:r},n}return t(js(r)),r},bs=(s,t)=>async a=>{const r=await N(`/api/events/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const o=await r.json();throw new Error(o.message||"Failed to update event")}const n=await r.json();return a(ys(n)),n},Ts=s=>async t=>{const a=await N(`/api/events/${s}`,{method:"DELETE"});if(!a.ok){const r=await a.json();throw new Error(r.message||"Failed to delete event")}t(fs(s))},Ds=s=>async t=>{const a=await N(`/api/events/${s}/join`,{method:"POST",headers:{"Content-Type":"application/json"}}),r=await a.json();if(!a.ok)throw new Error(r.message||"Failed to join event");return t(Es(s)),r},Ls=s=>async t=>{const a=await N(`/api/events/${s}/leave`,{method:"DELETE"});if(!a.ok){const r=await a.json();throw new Error(r.message||"Failed to leave event")}return t(ws(s)),a.json()},ks=(s,t)=>async a=>{const r=await N(`/api/events/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})});if(!r.ok){const o=await r.json();throw new Error(o.message||"Failed to create comment")}const n=await r.json();return a(Ns(n)),n},Ps=(s,t)=>async a=>{const r=await N(`/api/events/${s}/comments/${t}`,{method:"DELETE"});if(!r.ok)return await r.json();const n=await r.json();return a(Cs(t)),n},Is={allEvents:[],currentUserEvents:[],eventDetail:null},Ms=(s=Is,t)=>{var a,r;switch(t.type){case ue:return{...s,allEvents:t.payload};case me:return{...s,eventDetail:t.payload};case he:return{...s,currentUserEvents:t.payload};case pe:return{...s,allEvents:[...s.allEvents,t.payload],currentUserEvents:[...s.currentUserEvents,t.payload]};case ge:return{...s,allEvents:s.allEvents.map(n=>n.id===t.payload.id?t.payload:n),currentUserEvents:s.currentUserEvents.map(n=>n.id===t.payload.id?t.payload:n),eventDetail:((a=s.eventDetail)==null?void 0:a.id)===t.payload.id?t.payload:s.eventDetail};case xe:return{...s,allEvents:s.allEvents.filter(n=>n.id!==t.payload),currentUserEvents:s.currentUserEvents.filter(n=>n.id!==t.payload),eventDetail:((r=s.eventDetail)==null?void 0:r.id)===t.payload?null:s.eventDetail};case ve:return s.eventDetail&&s.eventDetail.id===t.payload?{...s,eventDetail:{...s.eventDetail,participants:[...s.eventDetail.participants||[],{id:"currentUser",username:"You"}]}}:s;case je:if(s.eventDetail&&s.eventDetail.id===t.payload)return{...s,eventDetail:{...s.eventDetail,participants:s.eventDetail.participants.filter(n=>n.id!=="currentUser")}};case ye:{const n=t.payload;return s.eventDetail&&s.eventDetail.id===n.eventId?{...s,eventDetail:{...s.eventDetail,comments:[...s.eventDetail.comments||[],n]}}:s}case fe:return s.eventDetail&&s.eventDetail.comments?{...s,eventDetail:{...s.eventDetail,comments:s.eventDetail.comments.filter(n=>n.id!==t.payload)}}:s;default:return s}},Os=ke({session:Qe,categories:ts,locations:ps,events:Ms});let we;we=Pe(Ie);const Rs=s=>Me(Os,s,we);function As(){const s=D(),t=C(),a=b(i=>i.session.user),[r,n]=l.useState(""),[o,m]=l.useState(""),[d,x]=l.useState({});if(a)return e.jsx(W,{to:"/",replace:!0});const c=async i=>{i.preventDefault();const u=await t(U({email:r,password:o}));u?x(u):s("/")};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Log In"}),d.length>0&&d.map(i=>e.jsx("p",{children:i},i)),e.jsxs("form",{onSubmit:c,children:[e.jsxs("label",{children:["Email",e.jsx("input",{type:"text",value:r,onChange:i=>n(i.target.value),required:!0})]}),d.email&&e.jsx("p",{children:d.email}),e.jsxs("label",{children:["Password",e.jsx("input",{type:"password",value:o,onChange:i=>m(i.target.value),required:!0})]}),d.password&&e.jsx("p",{children:d.password}),e.jsx("button",{type:"submit",children:"Log In"})]})]})}function Us(){const s=C(),t=D(),a=b(v=>v.session.user),[r,n]=l.useState(""),[o,m]=l.useState(""),[d,x]=l.useState(""),[c,i]=l.useState(""),[u,y]=l.useState({});if(a)return e.jsx(W,{to:"/",replace:!0});const p=async v=>{if(v.preventDefault(),d!==c)return y({confirmPassword:"Confirm Password field must be the same as the Password field"});const w=await s(te({email:r,username:o,password:d}));w?y(w):t("/")};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Sign Up"}),u.server&&e.jsx("p",{children:u.server}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("label",{children:["Email",e.jsx("input",{type:"text",value:r,onChange:v=>n(v.target.value),required:!0})]}),u.email&&e.jsx("p",{children:u.email}),e.jsxs("label",{children:["Username",e.jsx("input",{type:"text",value:o,onChange:v=>m(v.target.value),required:!0})]}),u.username&&e.jsx("p",{children:u.username}),e.jsxs("label",{children:["Password",e.jsx("input",{type:"password",value:d,onChange:v=>x(v.target.value),required:!0})]}),u.password&&e.jsx("p",{children:u.password}),e.jsxs("label",{children:["Confirm Password",e.jsx("input",{type:"password",value:c,onChange:v=>i(v.target.value),required:!0})]}),u.confirmPassword&&e.jsx("p",{children:u.confirmPassword}),e.jsx("button",{type:"submit",children:"Sign Up"})]})]})}const M=[{src:"/images/summer2.png",text:"Explore the best outdoor adventures!"},{src:"/images/fall.png",text:"Find your next thrilling location!"},{src:"/images/winter5.png",text:"Discover hidden gems in nature!"},{src:"/images/spring.png",text:"Explore with WILDORADO!"}],Fs=()=>{const[s,t]=l.useState(0),[a,r]=l.useState(!1);return l.useEffect(()=>{const n=setInterval(()=>{t(o=>(o+1)%M.length)},8e3);return()=>clearInterval(n)},[]),l.useEffect(()=>{const n=setTimeout(()=>{r(!0)},2e3),o=setTimeout(()=>{r(!1)},7e3);return()=>{clearTimeout(n),clearTimeout(o)}},[s]),e.jsxs("div",{className:"carousel-container",children:[e.jsx(Y,{mode:"sync",children:e.jsx(q.img,{src:M[s].src,alt:"",className:"carousel-image",initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},transition:{duration:8,ease:"easeInOut"}},M[s].src)}),e.jsx(Y,{children:a&&e.jsx(q.div,{className:`carousel-text ${s===M.length-1?"center-text":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:M[s].text})})]})},_s=()=>{const s=C(),t=b(r=>r.categories.allCategories),a={Hiking:"/images/hiking.png",Rafting:"/images/rafting.png",Camping:"/images/camping.png",Climbing:"/images/climbing.png","Snow Sports":"/images/snow_sports.png","ATV/Bikes":"/images/atv_bikes.png"};return l.useEffect(()=>{s(es())},[s]),!t||t.length===0?e.jsx("div",{children:"Loading categories..."}):e.jsxs("div",{className:"home-container",children:[e.jsx(Fs,{}),e.jsx("div",{className:"category-container",children:e.jsx("ul",{className:"category-list",children:t.map(r=>e.jsx("li",{className:"category-item",children:e.jsxs(z,{to:`/categories/${r.id}`,className:"category-link",children:[e.jsx("img",{src:a[r.name]||"/images/default.png",alt:r.name,className:"category-icon"}),e.jsx("span",{children:r.name})]})},r.id))})})]})};const $s=()=>{const{id:s}=O(),t=C(),a=b(n=>n.categories.currentCategory),r=D();return l.useEffect(()=>{t(re(s))},[t,s]),a?e.jsxs("div",{className:"locations-page",children:[" ",e.jsxs("h1",{className:"cat-cat",children:[a.category.name," Locations"]}),e.jsx("ul",{className:"locations-list",children:a.locations.map(n=>e.jsxs("li",{className:"location-item-loc",onClick:()=>r(`/locations/${n.id}`),children:[e.jsx("img",{src:n.imageUrl,alt:n.name,className:"location-image-loc"}),e.jsxs("div",{children:[e.jsx("h3",{children:n.name}),e.jsxs("div",{className:"category-description",children:[e.jsxs("p",{children:["ðŸ“ City: ",n.city]}),e.jsxs("p",{children:["â˜… ",n.avgRating," (",n.reviewCount," reviews)"]})]})]})]},n.id))})]}):e.jsx("div",{children:"Loading category details..."})},Vs=()=>{const s=C(),t=b(p=>p.locations.allLocations),a=D(),[r,n]=l.useState(1),[o,m]=l.useState(1),d=["/images/loc1.png","/images/loc2.png","/images/lo3.png"],x=_(),c=new URLSearchParams(x.search),i=c.get("search")||"",u=c.get("category")||null;l.useEffect(()=>{const p=new URLSearchParams;i&&p.set("search",i),u&&p.set("category",u),p.set("page",r),p.set("perPage",12),s(cs(`?${p.toString()}`)).then(v=>{if(!v)return alert("Failed to load locations.Please try again!");v!=null&&v.Pagination&&m(v.Pagination.totalPages)})},[s,r,i,u]);const y={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3};return e.jsxs("div",{className:"locations-page",children:[e.jsx("div",{className:"carousel-container-loc",children:e.jsx(Oe,{...y,children:d.map((p,v)=>e.jsxs("div",{className:"carousel-slide-loc",children:[e.jsx("img",{src:p,alt:`Slide ${v}`,className:"carousel-image-loc"}),e.jsx("div",{className:"carousel-text-loc",children:e.jsx("h1",{className:"special-heading",children:"Find your outside here ..."})})]},v))})}),e.jsx("div",{className:"locations-list",children:t.map(p=>e.jsxs("div",{className:"location-item-loc",onClick:()=>a(`/locations/${p.id}`),children:[e.jsx("img",{src:p.imageUrl,alt:p.name}),e.jsx("div",{className:"location-header",children:e.jsx("h3",{children:p.name})}),e.jsxs("div",{className:"location-info",children:[e.jsxs("p",{children:["City: ",p.city]}),e.jsxs("div",{className:"location-rating",children:[e.jsx("span",{className:"star",children:"â˜…"})," ",p.avgRating," (",p.reviewCount," reviews)"]})]})]},p.id))}),e.jsx("div",{className:"pagination",children:Array.from({length:o},(p,v)=>e.jsx("button",{onClick:()=>n(v+1),className:r===v+1?"active":"",children:v+1},v+1))})]})};const Gs=()=>{const s=C(),t=D(),{id:a}=O(),r=b(u=>u.session.user),n=b(u=>u.locations.locationDetail),o=b(u=>u.categories.currentCategory),[m,d]=l.useState(0);if(l.useEffect(()=>{s(ls(a)).then(u=>{u!=null&&u.categoryId&&s(re(u.categoryId))})},[s,a]),!n||!o)return e.jsx("p",{children:"Loading..."});const x=(n==null?void 0:n.images)||[],c=()=>{d(u=>(u+1)%x.length)},i=()=>{d(u=>(u-1+x.length)%x.length)};return e.jsxs("div",{className:"location-detail",children:[e.jsxs("div",{className:"details-header",children:[e.jsx("h1",{className:"location-title",children:n.name}),e.jsxs("p",{className:"location-city",children:["ðŸ“ ",n.city]}),e.jsxs("div",{className:"location-rating",children:[e.jsx("span",{className:"star",children:"â˜…"})," ",n.avgRating," (",n.reviewCount," reviews)"]})]}),x.length>0&&e.jsxs("div",{className:"carousel-container-details",children:[e.jsx("button",{className:"carousel-arrow left",onClick:i,children:"â®"}),e.jsx("img",{src:x[m].url,alt:"Location",className:"carousel-image"},x[m].id),e.jsx("button",{className:"carousel-arrow right",onClick:c,children:"â¯"})]}),e.jsx("div",{className:"details-filter",children:e.jsx("div",{className:"details-grid",children:Object.entries(n.categorySpecific||{}).map(([u,y])=>e.jsxs("div",{className:"details-box",children:[e.jsxs("strong",{children:[u.replace(/([A-Z])/g," $1").trim(),":"]}),e.jsx("span",{children:typeof y=="boolean"?y?"Yes":"No":y})]},u))})}),e.jsxs("h2",{children:["About ",n.name]}),e.jsx("p",{children:n.description}),e.jsxs("div",{className:"trip-plan",children:[e.jsx("h2",{children:"Plan Your Trip"}),e.jsxs("p",{children:["Organize a ",o.category.name," event or join others planning to visit ",n.name,"."]}),r?e.jsx("button",{onClick:()=>t(`/events/new?locationId=${a}`),children:"Create Event"}):e.jsx("p",{style:{color:"red",fontWeight:"bold"},children:"To create your own event, please log in to your account."})]}),e.jsx("div",{className:"reviews-locDetails",children:e.jsx("h2",{children:"REVIEWS"})})]})};const G=l.createContext();function Ys({children:s}){const t=l.useRef(),[a,r]=l.useState(null),[n,o]=l.useState(null),d={modalRef:t,modalContent:a,setModalContent:r,setOnModalClose:o,closeModal:()=>{r(null),typeof n=="function"&&(o(null),n())}};return e.jsxs(e.Fragment,{children:[e.jsx(G.Provider,{value:d,children:s}),e.jsx("div",{ref:t})]})}function qs(){const{modalRef:s,modalContent:t,closeModal:a}=l.useContext(G);return!s||!s.current||!t?null:Re.createPortal(e.jsxs("div",{id:"modal",children:[e.jsx("div",{id:"modal-background",onClick:a}),e.jsx("div",{id:"modal-content",children:t})]}),s.current)}const I=()=>l.useContext(G);function Ne({modalComponent:s,buttonText:t,onButtonClick:a,onModalClose:r}){const{setModalContent:n,setOnModalClose:o}=I(),m=()=>{r&&o(r),n(s),typeof a=="function"&&a()};return e.jsx("button",{onClick:m,children:t})}const Js=({locationId:s,onDelete:t})=>{const{closeModal:a}=I(),r=C(),n=async()=>{await r(ms(s)),await t(),a()},o=async()=>{a()};return e.jsxs("div",{className:"del-loc-container",children:[e.jsx("h1",{className:"del-loc-header",children:"Confirm Delete"}),e.jsx("div",{className:"confirm-del-loc",children:e.jsx("h4",{children:"Are you sure want to remove your location?"})}),e.jsxs("div",{className:"action-btn",children:[e.jsx("button",{onClick:n,className:"yes",children:"(Delete Location)"}),e.jsx("button",{onClick:o,className:"no",children:"No (Keep Location)"})]})]})},Bs=()=>{const[s,t]=l.useState([]),[a,r]=l.useState(!0),[n,o]=l.useState(null),m=D(),d=c=>{m(`/locations/${c}/edit`)},x=async()=>{try{const c=await N("/api/locations/current");if(!c.ok)throw new Error("Failed to fetch locations");const i=await c.json();t(i.Locations||[])}catch(c){o(c.message)}finally{r(!1)}};return l.useEffect(()=>{x()},[]),a?e.jsx("p",{children:"Loading..."}):n?e.jsxs("p",{children:["Error: ",n]}):e.jsxs("div",{className:"manage-loc-container",children:[e.jsx("h2",{children:"Manage Your Locations"}),s.length>0?e.jsxs("div",{className:"manage-loc-info",children:[e.jsxs("ul",{children:[e.jsx("div",{className:"manage-log-info"}),s.map(c=>e.jsxs("li",{children:[e.jsx("img",{src:c.imageUrl,alt:c.name}),e.jsx("h3",{children:c.name}),e.jsxs("p",{children:["ðŸ“ ",c.city]}),e.jsxs("p",{children:["â˜… ",c.avgRating," (",c.reviewCount," reviews)"]}),e.jsxs("div",{className:"manage-loc-btn",children:[e.jsx("button",{className:"edit-btn",onClick:()=>d(c.id),children:e.jsx(Q,{className:"icon"})}),e.jsx(Ne,{buttonText:e.jsx($,{className:"icon-trash"}),modalComponent:e.jsx(Js,{locationId:c.id,onDelete:x})})]})]},c.id))]}),e.jsx("div",{className:"manage-loc-btn"})]}):e.jsxs("p",{children:["You currently have no created locations.",e.jsx("br",{}),"To create a new location, please ",e.jsx(z,{to:"/locations/new",children:"click here"}),"."]})]})},Hs={1:"Hiking",2:"Rafting",3:"Camping",4:"Climbing",5:"Snow Sports",6:"ATV/Bikes"},J={1:["name","city","description","elevation","difficulty","distance","bestSeason"],2:["name","city","description","river_class","distance"],3:["name","city","description","maxTents","fireAllowed","lake","distance","elevation"],4:["name","city","description","routeType","difficulty","elevation","distance"],5:["name","city","description","bestSeason","elevation","distance"],6:["name","city","description","terrainType","distance","elevation"]},B={difficulty:["Easy","Medium","Hard"],river_class:["I","II","III","IV","V"],routeType:["Trad","Sport"],terrainType:["Dirt","Rocky","Forest","Mixed"],fireAllowed:["Yes","No"],lake:["Yes","No"]},Ce=({initialData:s,onSubmit:t,submitButtonText:a,disableCategory:r=!1})=>{const n=D(),[o,m]=l.useState(s.categoryId||""),[d,x]=l.useState(s),[c,i]=l.useState({}),[u,y]=l.useState(""),p=h=>{const g=Number(h.target.value);m(g),x(f=>({...f,categoryId:g}))},v=h=>{const{name:g,value:f}=h.target;x(j=>({...j,[g]:f})),c[g]&&i(j=>({...j,[g]:""}))},w=(h,g)=>{const f=[...d.images];f[h]=g.target.value,x(j=>({...j,images:f})),c.images&&i(j=>({...j,images:""}))},E=()=>{const h={};o||(h.general="Select a category."),["distance","elevation"].forEach(f=>{if(d[f]){const j=parseFloat(d[f]);(Number.isNaN(j)||j<=0)&&(h[f]=`${f} must be a number > 0.`)}});const g=d.images.filter(f=>f!=="");return g.length===0?h.images="At least one image is required.":new Set(g).size!==g.length?h.images="All image URLs must be unique.":g.every(f=>/\.(png|jpe?g)$/i.test(f))||(h.images="Images must end with .png/.jpg/.jpeg"),h},T=async h=>{h.preventDefault();const g=E();if(Object.keys(g).length){i(g);return}const f=J[o]||[],j={categoryId:o};f.forEach(S=>{switch(S){case"distance":j.distance=parseFloat(d.distance)||0;break;case"elevation":j.elevation=d.elevation?parseFloat(d.elevation):null;break;case"fireAllowed":j.fireAllowed=d.fireAllowed==="Yes";break;case"lake":j.lake=d.lake==="Yes";break;case"maxTents":j.maxTents=d.maxTents?parseInt(d.maxTents,10):null;break;case"riverClass":j.riverClass=d.riverClass;break;default:j[S]=d[S];break}}),j.images=d.images.filter(S=>S!=="").map((S,P)=>({url:S,preview:P===0})),j.name&&(j.name=j.name.trim()),j.city&&(j.city=j.city.trim()),console.log("SUBMIT payload:",j);try{const S=await t(j);S?(y(`${a} successful!`),setTimeout(()=>n(`/locations/${S.id}`),1e3)):i({general:"Operation failed."})}catch(S){console.error("Submission error:",S);let P=S.message||"Error during submission";if(S.json)try{const k=await S.json();k&&k.message&&(P=k.message)}catch(k){console.error("Error parsing error response:",k)}i({general:P})}};return e.jsxs("div",{className:"create-location-form",children:[e.jsx("h2",{children:a}),e.jsx("p",{children:"Important: All submitted information and photos must be accurate and truthful. Any false or misleading information may result in removal or account suspension."}),c.general&&e.jsx("p",{className:"error",children:c.general}),u&&e.jsx("p",{className:"success-message",children:u}),e.jsx("label",{children:"Category:"}),e.jsxs("select",{value:o||"",onChange:p,disabled:r,children:[e.jsx("option",{value:"",children:"-- Choose Category --"}),Object.entries(Hs).map(([h,g])=>e.jsx("option",{value:h,children:g},h))]}),o&&e.jsxs("form",{onSubmit:T,children:[J[o].map(h=>e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:h}),B[h]?e.jsxs("select",{name:h,value:d[h]||"",onChange:v,required:!0,children:[e.jsxs("option",{value:"",children:["Select ",h]}),B[h].map(g=>e.jsx("option",{value:g,children:g},g))]}):e.jsx("input",{type:"text",name:h,value:d[h]||"",onChange:v,required:!0}),c[h]&&e.jsx("p",{className:"error",children:c[h]})]},h)),e.jsx("h3",{children:"Images"}),d.images.map((h,g)=>e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:g===0?"Preview Image URL (.jpg/.png)":"Image URL (.jpg/.png)",value:h,onChange:f=>w(g,f)})},g)),c.images&&e.jsx("p",{className:"error",children:c.images}),e.jsx("button",{type:"submit",children:a})]})]})},Ks={categoryId:"",name:"",city:"",description:"",distance:"",elevation:"",difficulty:"",bestSeason:"",river_class:"",maxTents:"",fireAllowed:"No",lake:"No",routeType:"",terrainType:"",images:["","","",""]},Ws=()=>{const s=C(),t=async a=>await s(ds(a));return e.jsx(Ce,{initialData:Ks,onSubmit:t,submitButtonText:"Create Location",disableCategory:!1})};function H(s,t){return s?s.replace(t,"").trim():""}const zs=()=>{const{locationId:s}=O(),t=C(),a=D(),[r,n]=l.useState(null),[o,m]=l.useState("");l.useEffect(()=>{async function c(){var i;try{const u=await fetch(`/api/locations/${s}`);if(!u.ok)throw new Error("Failed to fetch location data");const y=await u.json();console.log("GET FROM SERVER!:",y);const p=y.categorySpecific||{},v=H(p.distance," mi"),w=H(p.elevation," ft"),E=p.difficulty||"",T=p.bestSeason||"",h=p.river_class||"",g=p.maxTents??"",f=p.fireAllowed?"Yes":"No",j=p.lake?"Yes":"No",S=p.routeType||"",P=p.terrainType||"",k=((i=y.images)==null?void 0:i.map(De=>De.url))||["","","",""];for(;k.length<4;)k.push("");const Te={categoryId:y.categoryId,name:y.name||"",city:y.city||"",description:y.description||"",distance:v,elevation:w,difficulty:E,bestSeason:T,riverClass:h,maxTents:g,fireAllowed:f,lake:j,routeType:S,terrainType:P,images:k};n(Te)}catch(u){console.error("Error loading:",u),m(u.message)}}c()},[s]);const d=()=>{a("/locations/current")},x=async c=>await t(us(s,c));return o?e.jsx("p",{className:"error",children:o}):r?e.jsxs("div",{className:"update-loc-container",children:[e.jsx(Ce,{initialData:r,onSubmit:x,submitButtonText:"Update Location",disableCategory:!0}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:d,children:"Cancel"})]}):e.jsx("p",{children:"Loading location data..."})};const Qs=()=>{const s=C(),t=b(o=>o.events.allEvents),a=b(o=>o.session.user);if(l.useEffect(()=>{s(A())},[s]),!t)return e.jsx("div",{children:"Loading events..."});const r=async o=>{try{await s(Ds(o)),await s(A())}catch(m){alert(m.message)}},n=async o=>{try{await s(Ls(o)),await s(A())}catch(m){alert(m.message)}};return e.jsx("div",{className:"events-page",children:e.jsx("div",{className:"event-loc-list",children:t.map(o=>{var x;const m=o.maxParticipants&&o.participantCount>=o.maxParticipants,d=o.isCurrentUserParticipant;return e.jsxs("div",{className:"event-item",children:[e.jsxs("div",{className:"event-header-info",children:[e.jsx("h2",{className:"event-title",children:o.title}),e.jsxs("p",{className:"event-date",children:[e.jsx(X,{})," ",new Date(o.date).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})]}),e.jsxs("p",{className:"event-participants",children:[e.jsx(Z,{})," ",o.participantCount,"/",o.maxParticipants," participants"]}),o.location&&e.jsxs("div",{className:"event-location-info",children:[e.jsxs("p",{children:[e.jsx(Ae,{})," ",o.location.name,", ",o.location.city]}),e.jsx(L,{to:`/locations/${o.locationId}`,state:{from:"events"},children:"Details Location"})]})]}),((x=o.location)==null?void 0:x.previewImage)&&e.jsx("div",{className:"event-image-container",children:e.jsx("img",{src:o.location.previewImage,alt:o.location.name})}),e.jsx("div",{className:"event-page-links",children:a?d?e.jsxs(e.Fragment,{children:[e.jsx(L,{to:"#",onClick:c=>{c.preventDefault(),n(o.id)},children:"Leave Event"}),e.jsx(L,{to:`/events/${o.id}`,style:{marginLeft:"1rem"},children:"Discussion"})]}):m?e.jsx("p",{style:{color:"red"},children:"Event is full"}):e.jsx(L,{to:"#",onClick:c=>{c.preventDefault(),r(o.id)},children:"Join this Event"}):e.jsx("p",{style:{color:"red"},children:"To participate in events, you must be registered."})})]},o.id)})})})},Xs=()=>{var x,c;const s=C(),{eventId:t}=O(),[a,r]=l.useState(""),n=b(i=>i.events.eventDetail),o=b(i=>i.session.user);l.useEffect(()=>{t&&s(F(t))},[s,t]);const m=async i=>{if(i.preventDefault(),!!a.trim())try{await s(ks(n.id,a)),await s(F(n.id)),r("")}catch(u){console.err(u.message)}},d=async i=>{try{await s(Ps(t,i))}catch(u){console.err(u.message)}};return R.updateLocale("en",{relativeTime:{future:"%s",past:i=>i==="Yesterday"?i:`${i} ago`,s:"few seconds",ss:"%d seconds",m:"minute",mm:"%d minutes",h:"hour",hh:"%d hours",d:"Yesterday",dd:"%d days",M:"month",MM:"%d months",y:"a year",yy:"%d years"}}),n?e.jsxs("div",{className:"event-detail-container",children:[e.jsxs("header",{className:"event-header",children:[e.jsx("h1",{children:n.title}),e.jsxs("h3",{className:"event-participants",children:[" ",e.jsx(Z,{})," Participants: ",(x=n.participants)==null?void 0:x.length,"/",n.maxParticipants]}),e.jsxs("p",{className:"event-date",children:[e.jsx(X,{})," ",R(n.date).format("ddd, MMM D, YYYY")]}),n.creator&&e.jsxs("div",{className:"event-creator",children:[n.creator.avatar&&e.jsx("img",{src:n.creator.avatar,alt:n.creator.username,className:"creator-avatar"}),e.jsxs("p",{children:["Created by: ",e.jsx("strong",{children:n.creator.username})]})]}),((c=n.location)==null?void 0:c.previewImage)&&e.jsx("img",{src:n.location.previewImage,alt:n.location.name,className:"event-preview-image"}),e.jsx("h2",{className:"event-description",children:n.description})]}),e.jsx("hr",{}),e.jsxs("div",{className:"message-container",children:[e.jsx("h2",{children:"Discussion"}),n.comments&&n.comments.length>0?e.jsx("ul",{className:"message-list",children:n.comments.map(i=>e.jsxs("div",{className:"message-item",children:[e.jsxs("div",{className:"message-header",children:[i.avatar&&e.jsx("img",{src:i.avatar,alt:"User avatar",className:"message-avatar"}),e.jsx("strong",{children:i.username})]}),e.jsxs("div",{className:"message-content",children:[e.jsx("p",{className:"message",children:i.message}),e.jsxs("span",{className:"message-date",children:[R(i.createdAt).local().fromNow(),i.userId===(o==null?void 0:o.id)&&e.jsx("button",{onClick:()=>d(i.id),className:"message-delete-btn",children:e.jsx($,{})})]})]})]},i.id))}):e.jsx("p",{className:"no-messages",children:"No messages yet. Be the first to leave a message!"})]}),e.jsxs("form",{onSubmit:m,className:"message-form",children:[e.jsx("input",{value:a,onChange:i=>r(i.target.value),placeholder:"Write your message...",className:"message-input"}),e.jsx("button",{type:"submit",className:"message-send-btn",children:"Send"})]})]}):e.jsx("div",{children:"Loading event details..."})},Se=({eventId:s})=>{const{closeModal:t}=I(),a=C(),r=async()=>{await a(Ts(s)),await a(Ee()),t()};return e.jsxs("div",{className:"delete-event-modal",children:[e.jsx("h1",{className:"modal-header",children:"Confirm Delete"}),e.jsx("p",{children:"Are you sure you want to delete this event?"}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:r,className:"delete-btn",children:"Yes (Delete Event)"}),e.jsx("button",{onClick:t,className:"cancel-btn",children:"No (Keep Event)"})]})]})};const Zs=()=>{const s=C(),t=D(),a=b(o=>o.events.currentUserEvents);l.useEffect(()=>{s(Ee())},[s]);const r=o=>t(`/events/${o}/edit`),n=o=>t(`/events/${o}`);return e.jsxs("section",{className:"manage-events",children:[e.jsx("h2",{children:"Manage Your Events"}),a.length>0?e.jsx("ul",{className:"event-list",children:a.map(o=>{var m,d,x,c;return e.jsxs("article",{className:"event-card",children:[e.jsx("img",{src:((m=o.location)==null?void 0:m.previewImage)||"https://via.placeholder.com/300",alt:((d=o.location)==null?void 0:d.name)||"No Image",className:"event-image"}),e.jsxs("div",{className:"event-info",children:[e.jsx("h3",{children:o.title}),e.jsxs("p",{children:["ðŸ“ ",(x=o.location)==null?void 0:x.name,", ",(c=o.location)==null?void 0:c.city]}),e.jsxs("p",{children:["ðŸ—“ ",new Date(o.date).toLocaleDateString()]}),e.jsxs("p",{children:["ðŸ“ ",o.description||"No description available"]}),e.jsxs("p",{children:["ðŸ‘¥ ",o.maxParticipants||0," Participants"]})]}),e.jsxs("div",{className:"event-actions",children:[e.jsxs("button",{className:"edit-btn",onClick:()=>r(o.id),children:[e.jsx(Q,{})," Edit"]}),e.jsx(Ne,{buttonText:e.jsxs("span",{children:[e.jsx($,{})," Delete"]}),modalComponent:e.jsx(Se,{eventId:o.id}),className:"delete-btn"}),e.jsxs("button",{className:"discussion-btn",onClick:()=>n(o.id),children:[e.jsx(Ue,{})," Discussion"]})]})]},o.id)})}):e.jsxs("p",{children:["You haven't created any events yet. ",e.jsx("br",{}),e.jsx("a",{href:"/events/new",className:"create-event-link",children:"Create a new event"})]})]})},be=({initialData:s={title:"",description:"",maxParticipants:"",date:""},onSubmit:t,submitButtonText:a})=>{const[r,n]=l.useState(s),[o,m]=l.useState({}),[d,x]=l.useState(""),c=D(),i=y=>{const{name:p,value:v}=y.target;n(w=>({...w,[p]:v}))},u=async y=>{y.preventDefault();const p={};if(new Date(r.date)<new Date&&(p.date="Date must be in the future"),Object.keys(p).length>0){console.log("Validation errors:",p),await m(p);return}try{await t(r)?(x(`${a} successful!`),m({}),setTimeout(()=>c("/events"),1500)):m({general:"All fields must to be completed."})}catch(E){console.log("ERR for ERIKA",E);let T=E.message||"Error during submission";if(E.json)try{const h=await E.json();if(h&&h.message&&(T=h.message),h&&h.errors){console.log("Backend errors",h.errors),await m(h.errors);return}}catch(h){console.error("Error parsing error response:",h)}await m({general:T})}};return e.jsxs("form",{onSubmit:u,children:[e.jsx("h1",{children:a}),d&&e.jsx("p",{style:{color:"green"},children:d}),o.general&&e.jsx("p",{style:{color:"red"},children:o.general}),e.jsx("label",{children:"Title:"}),e.jsx("input",{type:"text",name:"title",value:r.title,onChange:i}),o.title&&e.jsx("p",{style:{color:"red"},children:o.title}),e.jsx("label",{children:"Description:"}),e.jsx("textarea",{name:"description",value:r.description,onChange:i}),o.description&&e.jsx("p",{style:{color:"red"},children:o.description}),e.jsx("label",{children:"Date:"}),e.jsx("input",{type:"datetime-local",name:"date",value:r.date,onChange:i}),o.date&&e.jsx("p",{style:{color:"red"},children:o.date}),e.jsx("label",{children:"Max Participants:"}),e.jsx("input",{type:"number",name:"maxParticipants",value:r.maxParticipants,onChange:i}),o.maxParticipants&&e.jsx("p",{style:{color:"red"},children:o.maxParticipants}),e.jsx("button",{type:"submit",children:a})]})},et=()=>{const[s]=Fe(),t=C(),a=s.get("locationId"),r=async n=>{try{return await t(Ss({...n,locationId:a}))}catch(o){throw console.error("Error creating event:",o),o}};return e.jsx("div",{className:"event-form-container",children:e.jsx(be,{initialData:{title:"",description:"",maxParticipants:"",date:""},onSubmit:r,submitButtonText:"Create Event"})})},st=s=>{if(!s)return"";const t=new Date(s);return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,16)},tt=()=>{const{eventId:s}=O(),t=C(),a=D(),r=b(o=>o.events.eventDetail);l.useEffect(()=>{r||t(F(s))},[t,r,s]);const n=async o=>{const m={...o,date:new Date(o.date).toISOString()};try{await t(bs(s,m)),a("/events/current")}catch(d){console.error("Update error:",d)}};return r?e.jsxs("div",{children:[e.jsx("h1",{children:"Edit Event"}),e.jsx(be,{initialData:{title:r.title,description:r.description,maxParticipants:r.maxParticipants,date:st(r.date)},onSubmit:n,submitButtonText:"Save Changes"})]}):e.jsx("p",{children:"Loading..."})};function K({modalComponent:s,itemText:t,onItemClick:a,onModalClose:r}){const{setModalContent:n,setOnModalClose:o}=I(),m=()=>{r&&o(r),n(s),typeof a=="function"&&a()};return e.jsx("li",{onClick:m,children:t})}function at(){const s=C(),[t,a]=l.useState(""),[r,n]=l.useState(""),[o,m]=l.useState({}),{closeModal:d}=I(),x=async i=>{i.preventDefault();const u=await s(U({email:t,password:r}));u?m(u):d()},c=async i=>{i.preventDefault(),await s(U({email:"demo@aa.io",password:"password"}))||d()};return e.jsxs("div",{className:"login-modal-container",children:[e.jsx("h1",{children:"Log In"}),e.jsxs("form",{onSubmit:x,className:"login-form",children:[e.jsxs("label",{children:["Email",e.jsx("input",{type:"text",value:t,onChange:i=>a(i.target.value),required:!0})]}),o.email&&e.jsx("p",{children:o.email}),e.jsxs("label",{children:["Password",e.jsx("input",{type:"password",value:r,onChange:i=>n(i.target.value),required:!0})]}),o.password&&e.jsx("p",{children:o.password}),e.jsx("button",{type:"submit",children:"Log In"}),e.jsx("button",{type:"button",onClick:c,className:"demo-login",children:"Demo User"})]})]})}function nt(){const s=C(),[t,a]=l.useState(""),[r,n]=l.useState(""),[o,m]=l.useState(""),[d,x]=l.useState(""),[c,i]=l.useState(""),[u,y]=l.useState(""),[p,v]=l.useState(""),[w,E]=l.useState({}),{closeModal:T}=I(),h=async g=>{if(g.preventDefault(),o!==d)return E({confirmPassword:"Confirm Password field must be the same as the Password field"});const f=await s(te({email:t,username:r,password:o,avatar:c||null,bio:u||null,interests:p||null}));f?E(f):T()};return e.jsx("div",{className:"modal-overlay",onClick:g=>{g.target.classList.contains("modal-overlay")&&T()},children:e.jsxs("div",{className:"signup-form-modal",children:[e.jsx("h1",{children:"Sign Up"}),w.server&&e.jsx("p",{children:w.server}),e.jsxs("form",{onSubmit:h,className:"signup-form",children:[e.jsxs("label",{children:["Email",e.jsx("input",{type:"email",value:t,onChange:g=>a(g.target.value),required:!0})]}),w.email&&e.jsx("p",{children:w.email}),e.jsxs("label",{children:["Username",e.jsx("input",{type:"text",value:r,onChange:g=>n(g.target.value),required:!0})]}),w.username&&e.jsx("p",{children:w.username}),e.jsxs("label",{children:["Password",e.jsx("input",{type:"password",value:o,onChange:g=>m(g.target.value),required:!0})]}),w.password&&e.jsx("p",{children:w.password}),e.jsxs("label",{children:["Confirm Password",e.jsx("input",{type:"password",value:d,onChange:g=>x(g.target.value),required:!0})]}),w.confirmPassword&&e.jsx("p",{children:w.confirmPassword}),e.jsxs("label",{children:["Upload Avatar (optional)",e.jsx("input",{type:"text",value:c,onChange:g=>i(g.target.value)})]}),e.jsxs("label",{children:["Bio (optional)",e.jsx("textarea",{value:u,onChange:g=>y(g.target.value),placeholder:"Tell something about yourself"})]}),e.jsxs("label",{children:["Interests (optional)",e.jsx("input",{type:"text",value:p,onChange:g=>v(g.target.value),placeholder:"Hiking, Camping, etc."})]}),e.jsx("button",{type:"submit",children:"Sign Up"})]})]})})}function rt(){const s=C(),[t,a]=l.useState(!1),r=b(c=>c.session.user),n=l.useRef(),o=l.useRef(),m=c=>{c.stopPropagation(),a(!t)};l.useEffect(()=>{if(!t)return;const c=i=>{n.current&&!n.current.contains(i.target)&&a(!1)};return document.addEventListener("click",c),()=>document.removeEventListener("click",c)},[t]);const d=()=>a(!1),x=c=>{c.preventDefault(),s(We()),d()};return e.jsxs("div",{className:"profile-button-container",children:[e.jsx("button",{onClick:m,className:"profile-button",ref:o,children:e.jsx(_e,{})}),t&&e.jsx("ul",{className:"profile-dropdown",ref:n,children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"user-info",children:e.jsxs("li",{children:["Hello, ",r.username,"!"]})}),e.jsx("div",{className:"my-profile",children:e.jsx("li",{children:"My profile"})}),e.jsx("div",{className:"manage-locations-prof",children:e.jsx(L,{to:"/locations/current",onClick:d,className:"nav-link",children:"My Location"})}),e.jsx("div",{className:"manage-events",children:e.jsx(L,{to:"/events/current",onClick:d,className:"nav-link",children:"My Events"})}),e.jsx("li",{children:e.jsx("button",{onClick:x,className:"logout-button",children:"Log Out"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{itemText:"Log In",onItemClick:d,modalComponent:e.jsx(at,{})}),e.jsx(K,{itemText:"Sign Up",onItemClick:d,modalComponent:e.jsx(nt,{})})]})})]})}const ot=()=>{const s=D(),t=_(),a=b(E=>E.session.user),[r,n]=l.useState(""),[o,m]=l.useState(!1),[d,x]=l.useState(""),[c,i]=l.useState(!1),u=l.useRef(null),y=l.useRef(null),p=t.pathname==="/";l.useEffect(()=>{function E(T){u.current&&!u.current.contains(T.target)&&m(!1)}return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]),l.useEffect(()=>{const E=new Date().toLocaleDateString("en-US",{weekday:"short",day:"2-digit",month:"short"});x(E)},[]);const v=()=>{i(!c)},w=async E=>{E.preventDefault();const T=r.trim();if(T){try{(await N(`/api/locations?search=${T}&page=1&perPage=12`)).ok?s(`/locations?search=${T}`):alert("No results found. Please try again!")}catch(h){console.error("Error searching locations:",h),alert("Something went wrong. Please try again.")}n("")}};return e.jsx("nav",{className:`navbar ${p?"transparent-navbar":"solid-navbar"}`,children:e.jsxs("div",{className:"navbar-container",children:[e.jsx(L,{to:"/",className:"logo",children:e.jsx("img",{src:"/images/logo.png",alt:"Wildorado Logo",className:`logo-img ${p?"logo-home":"logo-other"}`})}),e.jsxs("form",{onSubmit:w,className:"search-form",children:[e.jsx("button",{type:"submit",className:"search-button",children:"ðŸ”"}),e.jsx("input",{type:"text",placeholder:"Search by category, city, or mountain name",value:r,onChange:E=>n(E.target.value),className:"search-input"})]}),e.jsx("button",{className:"mobile-menu-toggle",onClick:v,children:c?"âœ•":"â˜°"}),e.jsxs("div",{className:`nav-links ${c?"mobile-open":""}`,children:[e.jsx(L,{to:"/locations",className:"nav-link",children:"LOCATION"}),e.jsx(L,{to:"/events",className:"nav-link",children:"EVENT"}),e.jsx("span",{className:"nav-link",onClick:()=>alert("Feature coming soon!"),children:"COMMUNITY"}),e.jsx("span",{className:"nav-link",onClick:()=>alert("Feature coming soon!"),style:{cursor:"pointer"},children:"CONTACT"}),a&&e.jsx(L,{to:"/locations/new",className:"nav-link",children:"POST"}),e.jsxs("div",{className:"dropdown-container",ref:u,children:[e.jsx("button",{onClick:()=>m(!o),className:"calendar-button",children:d}),o&&e.jsx("div",{className:"calendar-popup-container",children:e.jsx($e,{className:"calendar-popup"})})]}),e.jsx("div",{className:"profile-container",ref:y,children:e.jsx(rt,{})})]})]})})};function it(){const s=C(),[t,a]=l.useState(!1),r=_();l.useEffect(()=>{s(Ke()).then(()=>a(!0))},[s]);const n=r.pathname==="/";return e.jsx(e.Fragment,{children:e.jsxs(Ys,{children:[e.jsx(ot,{}),e.jsx("div",{className:`page-content ${n?"home-page":""}`,children:t&&e.jsx(Ve,{})}),e.jsx(qs,{})]})})}const ct=Ge([{element:e.jsx(it,{}),children:[{path:"/",element:e.jsx(_s,{})},{path:"/categories/:id",element:e.jsx($s,{})},{path:"login",element:e.jsx(As,{})},{path:"signup",element:e.jsx(Us,{})},{path:"/locations",element:e.jsx(Vs,{})},{path:"/locations/:id",element:e.jsx(Gs,{})},{path:"/locations/new",element:e.jsx(Ws,{})},{path:"/locations/current",element:e.jsx(Bs,{})},{path:"/locations/:locationId/edit",element:e.jsx(zs,{})},{path:"/events",element:e.jsx(Qs,{})},{path:"/events/:eventId",element:e.jsx(Xs,{})},{path:"/events/current",element:e.jsx(Zs,{})},{path:"/events/new",element:e.jsx(et,{})},{path:"/events/:eventId/edit",element:e.jsx(tt,{})},{path:"/events/:eventId",element:e.jsx(Se,{})}]}]);const lt=Rs();Ye.createRoot(document.getElementById("root")).render(e.jsx(qe.StrictMode,{children:e.jsx(Je,{store:lt,children:e.jsx(Be,{router:ct})})}));
